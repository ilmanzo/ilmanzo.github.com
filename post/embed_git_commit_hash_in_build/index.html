<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Embed git commit hash into an executable | ilManzo's blog</title><meta name=keywords content="programming,crystal lang,crystal,git,macros,comptime,nim,nim lang"><meta name=description content="How to insert the current HEAD commit hash in a binary"><meta name=author content="Andrea Manzini"><link rel=canonical href=https://ilmanzo.github.io/post/embed_git_commit_hash_in_build/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://ilmanzo.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ilmanzo.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ilmanzo.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://ilmanzo.github.io/apple-touch-icon.png><link rel=mask-icon href=https://ilmanzo.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://ilmanzo.github.io/post/embed_git_commit_hash_in_build/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-6PN4FTRLNL"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6PN4FTRLNL")}</script><meta property="og:url" content="https://ilmanzo.github.io/post/embed_git_commit_hash_in_build/"><meta property="og:site_name" content="ilManzo's blog"><meta property="og:title" content="Embed git commit hash into an executable"><meta property="og:description" content="How to insert the current HEAD commit hash in a binary"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2023-07-01T00:00:00+00:00"><meta property="article:modified_time" content="2023-07-01T00:00:00+00:00"><meta property="article:tag" content="Programming"><meta property="article:tag" content="Crystal Lang"><meta property="article:tag" content="Crystal"><meta property="article:tag" content="Git"><meta property="article:tag" content="Macros"><meta property="article:tag" content="Comptime"><meta name=twitter:card content="summary"><meta name=twitter:title content="Embed git commit hash into an executable"><meta name=twitter:description content="How to insert the current HEAD commit hash in a binary"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://ilmanzo.github.io/post/"},{"@type":"ListItem","position":2,"name":"Embed git commit hash into an executable","item":"https://ilmanzo.github.io/post/embed_git_commit_hash_in_build/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Embed git commit hash into an executable","name":"Embed git commit hash into an executable","description":"How to insert the current HEAD commit hash in a binary","keywords":["programming","crystal lang","crystal","git","macros","comptime","nim","nim lang"],"articleBody":"The problem When we write our programs or libraries, usually we ship to the end user a packaged binary. If a user wants to report a bug or ask for a feature, one of the most important information to have is “which version of the software are you using ?”\nSince as any good programmer you likely use a source code control system, you should not rely only on the numeric version, but it’s practical to include also the git commit hash of the software you are actually shipping.\nIncluding the Git commit hash into an executable program can be a helpful practice in various scenarios, especially during the development and deployment process. The Git commit hash is a unique identifier for a specific version of the source code, and it offers several advantages:\nVersion Identification: The Git commit hash uniquely identifies a specific version of the source code. By embedding it in the executable, you can easily determine which exact version of the code was used to build the executable. This is useful for tracking issues, debugging, and providing accurate information to support teams.\nReproducibility: When an issue or bug arises in the deployed executable, having the Git commit hash helps in reproducing the problem. With the exact source code version, developers can check out the codebase to the same state, ensuring consistent behavior for debugging and fixing the issue.\nAuditing and Compliance: In certain industries or projects, it’s essential to maintain strict control over the code used in production. Including the Git commit hash provides an audit trail, helping to ensure compliance with specific requirements or regulations.\nContinuous Integration and Continuous Deployment (CI/CD): In CI/CD pipelines, it’s crucial to maintain a clear association between the deployed executable and the source code version. The Git commit hash enables better tracking and management of the pipeline’s flow.\nCollaboration and Communication: When developers collaborate on a project, sharing executables built from specific Git commit hashes ensures that everyone is using the same version of the code. This consistency helps in debugging and ensures that everyone is working on a common base.\nRollbacks and Hotfixes: In case an issue is discovered in the deployed version of the executable, having the Git commit hash allows for quick rollbacks to a previous stable version or creating hotfixes based on a specific commit.\nTesting and QA: By including the Git commit hash in the executable, testers and quality assurance teams can quickly identify the version being tested, making it easier to report bugs and issues accurately.\nOverall, including the Git commit hash in an executable program improves traceability, accountability, and collaboration throughout the development and deployment lifecycle, making it an important best practice for software development teams. While it’s a mostly documented practice for mainstream languages, I’d like to show and promote solutions also on other languages.\nCrystal Solution In Crystal this is rather easy to achieve, thanks to compile time macros:\nVERSION = \"0.1.0\" GITCOMMIT = {{ `git rev-parse --short HEAD`.stringify.strip }} puts \"This is MyProgram v#{VERSION} [##{GITCOMMIT}]\" What’s happening ? Basically during compilation the command inside the backticks is being executed by the compiler, and output is inserted into a string variable. So convenient! So let’s built and check :\n$ shards build Dependencies are satisfied Building: myprogram $ bin/myprogram This is MyProgram v0.1.0 [#cfd90a9] To have an evidence, it’s easy to inspect the actual binary and find the string embedded:\n$ strings bin/myprogram | grep MyProgram This is MyProgram v0.1.0 [#cfd90a9] Nim Solution Also Nim Language has powerful compile time evaluation features:\n# This is just an example to get you started. A typical binary package # uses this file as the main entry point of the application. import std/strformat proc getCommitHash(): auto = staticExec(\"git rev-parse --short HEAD\") const gitCommitHash: string = getCommitHash() programVersion: string = \"0.1.0\" when isMainModule: echo fmt\"This is MyProgram v{programVersion}#[{gitCommitHash}]\" let’s build and try out:\n$ nimble build -d:release --opt:size Verifying dependencies for myprogram@0.1.0 Building myprogram/myprogram using c backend $ ll total 112 drwxr-xr-x 1 andrea andrea 64 Jul 1 11:38 ./ drwxr-xr-x 1 andrea andrea 1186 Jul 1 11:09 ../ drwxr-xr-x 1 andrea andrea 144 Jul 1 11:31 .git/ -rwxr-xr-x 1 andrea andrea 39104 Jul 1 11:38 myprogram* -rw-r--r-- 1 andrea andrea 233 Jul 1 11:09 myprogram.nimble drwxr-xr-x 1 andrea andrea 26 Jul 1 11:09 src/ $ ./myprogram This is MyProgram v0.1.0 [#3416678] If you are interested in the topic, be sure to check out also Andre von Houck excellent fosdem talk: Nim Metaprogramming in the real world\n","wordCount":"751","inLanguage":"en","datePublished":"2023-07-01T00:00:00Z","dateModified":"2023-07-01T00:00:00Z","author":{"@type":"Person","name":"Andrea Manzini"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ilmanzo.github.io/post/embed_git_commit_hash_in_build/"},"publisher":{"@type":"Organization","name":"ilManzo's blog","logo":{"@type":"ImageObject","url":"https://ilmanzo.github.io/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ilmanzo.github.io/ accesskey=h title="ilManzo's blog (Alt + H)">ilManzo's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ilmanzo.github.io/curriculum title=Curriculum><span>Curriculum</span></a></li><li><a href=https://ilmanzo.github.io/tags title=Tags><span>Tags</span></a></li><li><a href=https://ilmanzo.github.io/categories title=Categories><span>Categories</span></a></li><li><a href=https://ilmanzo.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://ilmanzo.github.io/post/ title=Posts><span>Posts</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ilmanzo.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://ilmanzo.github.io/post/>Posts</a></div><h1 class="post-title entry-hint-parent">Embed git commit hash into an executable</h1><div class=post-description>How to insert the current HEAD commit hash in a binary</div><div class=post-meta><span title='2023-07-01 00:00:00 +0000 UTC'>July 1, 2023</span>&nbsp;·&nbsp;Andrea Manzini</div></header><div class=post-content><h2 id=the-problem>The problem<a hidden class=anchor aria-hidden=true href=#the-problem>#</a></h2><p>When we write our programs or libraries, usually we ship to the end user a packaged binary.
If a user wants to report a bug or ask for a feature, one of the most important information to have is <em>&ldquo;which version of the software are you using ?&rdquo;</em></p><p>Since as any good programmer you likely use a source code control system, you should not rely only on the numeric version, but it&rsquo;s practical to include also the <strong>git commit hash</strong> of the software you are actually shipping.</p><p>Including the Git commit hash into an executable program can be a helpful practice in various scenarios, especially during the development and deployment process. The Git commit hash is a unique identifier for a specific version of the source code, and it offers several advantages:</p><ul><li><p><strong>Version Identification</strong>: The Git commit hash uniquely identifies a specific version of the source code. By embedding it in the executable, you can easily determine which exact version of the code was used to build the executable. This is useful for tracking issues, debugging, and providing accurate information to support teams.</p></li><li><p><strong>Reproducibility</strong>: When an issue or bug arises in the deployed executable, having the Git commit hash helps in reproducing the problem. With the exact source code version, developers can check out the codebase to the same state, ensuring consistent behavior for debugging and fixing the issue.</p></li><li><p><strong>Auditing and Compliance</strong>: In certain industries or projects, it&rsquo;s essential to maintain strict control over the code used in production. Including the Git commit hash provides an audit trail, helping to ensure compliance with specific requirements or regulations.</p></li><li><p><strong>Continuous Integration and Continuous Deployment (CI/CD)</strong>: In CI/CD pipelines, it&rsquo;s crucial to maintain a clear association between the deployed executable and the source code version. The Git commit hash enables better tracking and management of the pipeline&rsquo;s flow.</p></li><li><p><strong>Collaboration and Communication</strong>: When developers collaborate on a project, sharing executables built from specific Git commit hashes ensures that everyone is using the same version of the code. This consistency helps in debugging and ensures that everyone is working on a common base.</p></li><li><p><strong>Rollbacks and Hotfixes</strong>: In case an issue is discovered in the deployed version of the executable, having the Git commit hash allows for quick rollbacks to a previous stable version or creating hotfixes based on a specific commit.</p></li><li><p><strong>Testing and QA</strong>: By including the Git commit hash in the executable, testers and quality assurance teams can quickly identify the version being tested, making it easier to report bugs and issues accurately.</p></li></ul><p>Overall, including the Git commit hash in an executable program improves traceability, accountability, and collaboration throughout the development and deployment lifecycle, making it an important best practice for software development teams. While it&rsquo;s a mostly documented practice for <a href=https://developers.redhat.com/articles/2022/11/14/3-ways-embed-commit-hash-go-programs>mainstream languages</a>, I&rsquo;d like to show and promote solutions also on other languages.</p><h2 id=crystal-solution>Crystal Solution<a hidden class=anchor aria-hidden=true href=#crystal-solution>#</a></h2><p>In <a href=https://crystal-lang.org/>Crystal</a> this is rather easy to achieve, thanks to <a href=https://crystal-lang.org/reference/1.8/syntax_and_semantics/macros/index.html>compile time macros</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-crystal data-lang=crystal><span style=display:flex><span><span style=color:#66d9ef>VERSION</span>   <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;0.1.0&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>GITCOMMIT</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>{{</span> <span style=color:#e6db74>`git rev-parse --short HEAD`</span><span style=color:#f92672>.</span>stringify<span style=color:#f92672>.</span>strip <span style=color:#e6db74>}}</span>
</span></span><span style=display:flex><span>puts <span style=color:#e6db74>&#34;This is MyProgram v</span><span style=color:#e6db74>#{</span><span style=color:#66d9ef>VERSION</span><span style=color:#e6db74>}</span><span style=color:#e6db74> [#</span><span style=color:#e6db74>#{</span><span style=color:#66d9ef>GITCOMMIT</span><span style=color:#e6db74>}</span><span style=color:#e6db74>]&#34;</span></span></span></code></pre></div><p>What&rsquo;s happening ? Basically during compilation the command inside the backticks is being executed by the compiler, and output is inserted into a string variable. So convenient!
So let&rsquo;s built and check :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ shards build
</span></span><span style=display:flex><span>Dependencies are satisfied
</span></span><span style=display:flex><span>Building: myprogram
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ bin/myprogram
</span></span><span style=display:flex><span>This is MyProgram v0.1.0 <span style=color:#f92672>[</span><span style=color:#75715e>#cfd90a9]</span></span></span></code></pre></div><p>To have an evidence, it&rsquo;s easy to inspect the actual binary and find the string embedded:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ strings bin/myprogram | grep MyProgram
</span></span><span style=display:flex><span>This is MyProgram v0.1.0 <span style=color:#f92672>[</span><span style=color:#75715e>#cfd90a9]</span></span></span></code></pre></div><h2 id=nim-solution>Nim Solution<a hidden class=anchor aria-hidden=true href=#nim-solution>#</a></h2><p>Also <a href=https://nim-lang.org/>Nim</a> Language has powerful <a href=https://castillodel.github.io/compile-time-evaluation/>compile time evaluation</a> features:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nim data-lang=nim><span style=display:flex><span><span style=color:#75715e># This is just an example to get you started. A typical binary package</span>
</span></span><span style=display:flex><span><span style=color:#75715e># uses this file as the main entry point of the application.</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> std<span style=color:#f92672>/</span>strformat
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>proc </span><span style=color:#a6e22e>getCommitHash</span>(): auto <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  staticExec(<span style=color:#e6db74>&#34;git rev-parse --short HEAD&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>const</span>
</span></span><span style=display:flex><span>  gitCommitHash: <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span> getCommitHash()
</span></span><span style=display:flex><span>  programVersion: <span style=color:#66d9ef>string</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;0.1.0&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>when</span> isMainModule:
</span></span><span style=display:flex><span>  echo <span style=color:#e6db74>fmt&#34;This is MyProgram v{programVersion}#[{gitCommitHash}]&#34;</span></span></span></code></pre></div><p>let&rsquo;s build and try out:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ nimble build -d:release --opt:size 
</span></span><span style=display:flex><span>  Verifying dependencies <span style=color:#66d9ef>for</span> myprogram@0.1.0
</span></span><span style=display:flex><span>   Building myprogram/myprogram using c backend
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ ll
</span></span><span style=display:flex><span>total <span style=color:#ae81ff>112</span>
</span></span><span style=display:flex><span>drwxr-xr-x <span style=color:#ae81ff>1</span> andrea andrea     <span style=color:#ae81ff>64</span> Jul  <span style=color:#ae81ff>1</span> 11:38 ./
</span></span><span style=display:flex><span>drwxr-xr-x <span style=color:#ae81ff>1</span> andrea andrea   <span style=color:#ae81ff>1186</span> Jul  <span style=color:#ae81ff>1</span> 11:09 ../
</span></span><span style=display:flex><span>drwxr-xr-x <span style=color:#ae81ff>1</span> andrea andrea    <span style=color:#ae81ff>144</span> Jul  <span style=color:#ae81ff>1</span> 11:31 .git/
</span></span><span style=display:flex><span>-rwxr-xr-x <span style=color:#ae81ff>1</span> andrea andrea  <span style=color:#ae81ff>39104</span> Jul  <span style=color:#ae81ff>1</span> 11:38 myprogram*
</span></span><span style=display:flex><span>-rw-r--r-- <span style=color:#ae81ff>1</span> andrea andrea    <span style=color:#ae81ff>233</span> Jul  <span style=color:#ae81ff>1</span> 11:09 myprogram.nimble
</span></span><span style=display:flex><span>drwxr-xr-x <span style=color:#ae81ff>1</span> andrea andrea     <span style=color:#ae81ff>26</span> Jul  <span style=color:#ae81ff>1</span> 11:09 src/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>$ ./myprogram
</span></span><span style=display:flex><span>This is MyProgram v0.1.0 <span style=color:#f92672>[</span><span style=color:#75715e>#3416678]</span></span></span></code></pre></div><p>If you are interested in the topic, be sure to check out also <a href=https://github.com/treeform>Andre von Houck</a> excellent fosdem talk: <a href=https://archive.fosdem.org/2022/schedule/event/nim_metaprogramming/>Nim Metaprogramming in the real world</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://ilmanzo.github.io/tags/programming/>Programming</a></li><li><a href=https://ilmanzo.github.io/tags/crystal-lang/>Crystal Lang</a></li><li><a href=https://ilmanzo.github.io/tags/crystal/>Crystal</a></li><li><a href=https://ilmanzo.github.io/tags/git/>Git</a></li><li><a href=https://ilmanzo.github.io/tags/macros/>Macros</a></li><li><a href=https://ilmanzo.github.io/tags/comptime/>Comptime</a></li><li><a href=https://ilmanzo.github.io/tags/nim/>Nim</a></li><li><a href=https://ilmanzo.github.io/tags/nim-lang/>Nim Lang</a></li></ul><nav class=paginav><a class=prev href=https://ilmanzo.github.io/post/unit_testing_bash_functions/><span class=title>« Prev</span><br><span>Using containers for unit testing of bash functions</span>
</a><a class=next href=https://ilmanzo.github.io/post/crystal-demo-effects/><span class=title>Next »</span><br><span>Old-School demo effects with Crystal</span></a></nav></footer></article></main><footer class=footer><span>© 2012-2025 Andrea Manzini</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>