<!doctype html><html lang=en><head><title>a 'pythonic' fileinput module for the D programming language &ndash; ilManzo's blog</title><meta name=description content="A minimalist, pragmatic website and personal blog"><meta name=viewport content="width=device-width,initial-scale=1"><meta charset=utf-8><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css integrity="sha512-HK5fgLBL+xu6dm/Ii3z4xhlSUyZgTT9tuc/hSrtw6uzJOvgRr2a9jyxxT1ely+B+xFAmJKVSTbpM/CuL7qxO8w==" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.1/css/academicons.min.css integrity="sha512-b1ASx0WHgVFL5ZQhTgiPWX+68KjS38Jk87jg7pe+qC7q9YkEtFq0z7xCglv7qGIs/68d3mAp+StfC8WKC5SSAg==" crossorigin=anonymous><link rel=stylesheet href=https://ilmanzo.github.io/css/colour/gruvbox-dark.css><link rel=stylesheet href=https://ilmanzo.github.io/css/colour/dark-mode.css><link rel=stylesheet href=https://ilmanzo.github.io/css/risotto.css><link rel=stylesheet href=https://ilmanzo.github.io/css/custom.css></head><body><div class=page><header class=page__header><h1 class=page__logo><a href=https://ilmanzo.github.io/ class=page__logo-inner>ilManzo's blog</a></h1><nav class="page__nav main-nav"><ul><li class=main-nav__item><a class=nav-main-item href=/curriculum title>Curriculum</a></li><li class=main-nav__item><a class=nav-main-item href=/categories title>Categories</a></li><li class=main-nav__item><a class=nav-main-item href=/tags title>Tags</a></li><li class=main-nav__item><a class="nav-main-item active" href=/post/ title=Posts>Posts</a></li></ul></nav></header><section class=page__body><header class=content__header><h1>a &lsquo;pythonic&rsquo; fileinput module for the D programming language</h1></header><div class=content__body><p>When I write small command line utilities in <a href=https://www.python.org/>Python</a>, I often take advantage of <a href=https://docs.python.org/3/library/fileinput.html>the fileinput module</a> that makes working with text files very convenient: the library permits to write quickly and easily a loop over standard input or a list of files, something like <code>perl -a</code> or awk line processing.</p><p>Then the size of input data grew, and also for a language comparison, I wanted to port my utility in the <a href=https://dlang.org/>D programming language</a>, but I cannot find an equivalent module, so I decided to write one myself.</p><p>The usage is pretty similar to Python:</p><pre tabindex=0><code class=language-dlang data-lang=dlang>import fileinput;
import std.stdio;

void main(in string[] args)
{
    foreach (line; fileinput.input(args))
    {
        writeln(line); // do something with line
    }
    return;
}</code></pre><p>Once compiled, this will lead to an executable that can accept any number of text file as input, or read from stdin and seamlessly iterate on all of the lines contained in every file.</p><p>Thanks to the <a href=https://tour.dlang.org/tour/en/basics/ranges>range interface</a>; every struct / class implementing these methods can be used in a foreach statement.</p><pre tabindex=0><code class=language-dlang data-lang=dlang>interface InputRange(E)
{
        bool empty();
        E front();
        void popFront();
}</code></pre><p>You can find the full implementation <a href=https://github.com/ilmanzo/fileinput-d/blob/main/source/fileinput.d>on github</a></p></div><footer class=content__footer></footer></section><section class=page__aside><div class=aside__about><div class=aside__about><img class=about__logo src=https://ilmanzo.github.io/images/rice.svg alt=Logo><h1 class=about__title>Andrea Manzini</h1><p class=about__description>A minimalist, pragmatic website and personal blog</p></div><ul class=aside__social-links><li><a href=https://github.com/ilmanzo rel=me aria-label=GitHub title=GitHub><i class="fab fa-github" aria-hidden=true></i></a>&nbsp;</li><li><a href=mailto:ilmanzo@gmail.com rel=me aria-label=Email title=Email><i class="fas fa-envelope" aria-hidden=true></i></a>&nbsp;</li><li><a href=https://www.linkedin.com/in/andreamanzini rel=me aria-label=Linkedin title=Linkedin><i class="fab fa-linkedin" aria-hidden=true></i></a>&nbsp;</li><li><a href=https://twitter.com/ilmanzo rel=me aria-label=Twitter title=Twitter><i class="fab fa-twitter" aria-hidden=true></i></a>&nbsp;</li></ul></div><hr><div class=aside__content><p>an implementation of a custom iterator similar to Python's fileinput</p><p>By Andrea Manzini,
2021-01-25</p></div></section><footer class=page__footer><p class=copyright>Â© 2022 Andrea Manzini</p><p class=advertisement>Powered by <a href=https://gohugo.io/>hugo</a> and <a href=https://github.com/joeroe/risotto>risotto</a>.</p><script async src="https://www.googletagmanager.com/gtag/js?id=G-6PN4FTRLNL"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6PN4FTRLNL",{anonymize_ip:!1})}</script></footer></div></body></html>