<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Introduction to packaging Rust application | ilManzo's blog</title>
<meta name=keywords content="linux,sysadmin,rust,opensuse,packaging,rpm"><meta name=description content="How to package a Rust application on openSUSE"><meta name=author content="Andrea Manzini"><link rel=canonical href=https://ilmanzo.github.io/post/introduction_to_packaging_rust_applications/><link crossorigin=anonymous href=/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://ilmanzo.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://ilmanzo.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://ilmanzo.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://ilmanzo.github.io/apple-touch-icon.png><link rel=mask-icon href=https://ilmanzo.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://ilmanzo.github.io/post/introduction_to_packaging_rust_applications/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-6PN4FTRLNL"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-6PN4FTRLNL")}</script><meta property="og:url" content="https://ilmanzo.github.io/post/introduction_to_packaging_rust_applications/"><meta property="og:site_name" content="ilManzo's blog"><meta property="og:title" content="Introduction to packaging Rust application"><meta property="og:description" content="How to package a Rust application on openSUSE"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-01-19T00:00:00+00:00"><meta property="article:modified_time" content="2024-01-19T00:00:00+00:00"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Sysadmin"><meta property="article:tag" content="Rust"><meta property="article:tag" content="Opensuse"><meta property="article:tag" content="Packaging"><meta property="article:tag" content="Rpm"><meta name=twitter:card content="summary"><meta name=twitter:title content="Introduction to packaging Rust application"><meta name=twitter:description content="How to package a Rust application on openSUSE"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://ilmanzo.github.io/post/"},{"@type":"ListItem","position":2,"name":"Introduction to packaging Rust application","item":"https://ilmanzo.github.io/post/introduction_to_packaging_rust_applications/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Introduction to packaging Rust application","name":"Introduction to packaging Rust application","description":"How to package a Rust application on openSUSE","keywords":["linux","sysadmin","rust","opensuse","packaging","rpm"],"articleBody":"ü¶Ä Intro As an exercise, today we are going to package a game named battleship-rs developed by Orhun Parmaksƒ±z. We will also use the power of OpenSUSE build service to do most of the heavy work.\nBefore starting, let‚Äôs check out the project: it‚Äôs hosted on github and if you want to try it out before packaging, it‚Äôs a nice game where two people can play in the terminal over a TCP network connection. The initial ship placement, shot tracking, player turns and game state itself is managed from a single Rust process.\nFor the actual packaging, we will follow the reference documentation on openSUSE wiki.\nüì¶ Prerequisites Following the OBS guidelines, let‚Äôs setup our osc client with a minimal configuration:\n$ grep -v '^#' /home/andrea/.config/osc/oscrc [general] apiurl = https://api.opensuse.org ccache = 1 extra-pkgs = vim gdb strace less unzip procps psutils psmisc show_download_progress = 0 [https://api.opensuse.org] user=YOURUSERNAME pass=YOURPASSWORD üõ†Ô∏è OBS project setup Now we can switch to our development directory and create a subproject inside our home folder:\n$ cd osc $ cd home:amanzini $ osc mkpac battleship-rs A battleship-rs $ cd battleship-rs üç≤ Configure build system To properly build a Rust package, we need three items:\na .spec file a _service file a cargo_config file The first one is the classic RPM .spec, the recipe we need for cooking any rpm package. We leverage some macros to make the process smooth and easy. This also makes me notice there isn‚Äôt yet a syntax highlighter in Hugo for spec files‚Ä¶ü§®\n$ cat battleship-rs.spec Name: battleship-rs # This will be set by osc services, that will run after this. Version: 0.1.1~0 Release: 0 Summary: Battleship game implemented in Rust. License: MIT Url: https://github.com/orhun/battleship-rs Source0: %{name}-%{version}.tar.zst Source1: vendor.tar.zst Source2: cargo_config BuildRequires: cargo-packaging # Disable this line if you wish to support all platforms. # In most situations, you will likely only target tier1 arches for user facing components. ExclusiveArch: %{rust_tier1_arches} # the name of the actual binary program when differs from the project %define bin_name battleship %description A Battleship game implemented in Rust. Mainly for package practice %prep # The number passed to -a (a stands for \"after\") should be equivalent to the Source tag number # of the vendor tarball, 1 in this case (from Source1). %autosetup -p1 -a1 install -D -m 644 %{SOURCE2} .cargo/config # Remove exec bits to prevent an issue in fedora shebang checking. Uncomment only if required. # find vendor -type f -name \\*.rs -exec chmod -x '{}' \\; %build %{cargo_build} %install # using cargo_install (only supports bindir) # %{cargo_install} # manual process install -D -d -m 0755 %{buildroot}%{_bindir} install -m 0755 %{_builddir}/%{name}-%{version}/target/release/%{bin_name} %{buildroot}%{_bindir}/%{bin_name} # this is useful if you want to run the program internal test suite %check %{cargo_test} %files %{_bindir}/%{bin_name} %license LICENSE %doc README.md %changelog The second one is where the real magic happens. Using this configuration file, OBS is able to run many services on our project. First of all, it can checkout the exact version from git and generate for us a .changes file with the commit messages. Then it can build a compressed archive of the sources and run a special cargo vendor task that manages to make all our dependencies available for an offline build:\n$ cat _service ","wordCount":"1586","inLanguage":"en","datePublished":"2024-01-19T00:00:00Z","dateModified":"2024-01-19T00:00:00Z","author":{"@type":"Person","name":"Andrea Manzini"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://ilmanzo.github.io/post/introduction_to_packaging_rust_applications/"},"publisher":{"@type":"Organization","name":"ilManzo's blog","logo":{"@type":"ImageObject","url":"https://ilmanzo.github.io/favicon.ico"}}}</script></head><body class=dark id=top><script>localStorage.getItem("pref-theme")==="light"&&document.body.classList.remove("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://ilmanzo.github.io/ accesskey=h title="ilManzo's blog (Alt + H)">ilManzo's blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://ilmanzo.github.io/curriculum title=Curriculum><span>Curriculum</span></a></li><li><a href=https://ilmanzo.github.io/tags title=Tags><span>Tags</span></a></li><li><a href=https://ilmanzo.github.io/categories title=Categories><span>Categories</span></a></li><li><a href=https://ilmanzo.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://ilmanzo.github.io/post/ title=Posts><span>Posts</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://ilmanzo.github.io/>Home</a>&nbsp;¬ª&nbsp;<a href=https://ilmanzo.github.io/post/>Posts</a></div><h1 class="post-title entry-hint-parent">Introduction to packaging Rust application</h1><div class=post-description>How to package a Rust application on openSUSE</div><div class=post-meta><span title='2024-01-19 00:00:00 +0000 UTC'>January 19, 2024</span>&nbsp;¬∑&nbsp;Andrea Manzini</div></header><div class=post-content><h2 id=-intro>ü¶Ä Intro<a hidden class=anchor aria-hidden=true href=#-intro>#</a></h2><p>As an exercise, today we are going to package a game named <code>battleship-rs</code> developed by <a href=https://orhun.dev/>Orhun Parmaksƒ±z</a>. We will also use the power of <a href=https://build.opensuse.org/>OpenSUSE build service</a> to do most of the heavy work.</p><p>Before starting, let&rsquo;s check out the project: it&rsquo;s hosted on <a href=https://github.com/orhun/battleship-rs>github</a> and if you want to try it out before packaging, it&rsquo;s a nice game where two people can play in the terminal over a TCP network connection. The initial ship placement, shot tracking, player turns and game state itself is managed from a single Rust process.</p><p>For the actual packaging, we will follow the reference documentation on <a href=https://en.opensuse.org/openSUSE:Packaging_Rust_Software>openSUSE wiki</a>.</p><h2 id=-prerequisites>üì¶ Prerequisites<a hidden class=anchor aria-hidden=true href=#-prerequisites>#</a></h2><p>Following the <a href=https://en.opensuse.org/openSUSE:Build_Service_Tutorial>OBS guidelines</a>, let&rsquo;s setup our <code>osc</code> client with a minimal configuration:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ grep -v <span style=color:#e6db74>&#39;^#&#39;</span> /home/andrea/.config/osc/oscrc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>general<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>apiurl <span style=color:#f92672>=</span> https://api.opensuse.org
</span></span><span style=display:flex><span>ccache <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>extra-pkgs <span style=color:#f92672>=</span> vim gdb strace less unzip procps psutils psmisc
</span></span><span style=display:flex><span>show_download_progress <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>https://api.opensuse.org<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>user<span style=color:#f92672>=</span>YOURUSERNAME
</span></span><span style=display:flex><span>pass<span style=color:#f92672>=</span>YOURPASSWORD
</span></span></code></pre></div><h2 id=-obs-project-setup>üõ†Ô∏è OBS project setup<a hidden class=anchor aria-hidden=true href=#-obs-project-setup>#</a></h2><p>Now we can switch to our development directory and create a subproject inside our home folder:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cd osc
</span></span><span style=display:flex><span>$ cd home:amanzini
</span></span><span style=display:flex><span>$ osc mkpac battleship-rs 
</span></span><span style=display:flex><span>A    battleship-rs
</span></span><span style=display:flex><span>$ cd battleship-rs
</span></span></code></pre></div><h2 id=-configure-build-system>üç≤ Configure build system<a hidden class=anchor aria-hidden=true href=#-configure-build-system>#</a></h2><p>To properly build a Rust package, we need three items:</p><ol><li>a <code>.spec</code> file</li><li>a <code>_service</code> file</li><li>a <code>cargo_config</code> file</li></ol><p>The first one is the classic RPM <code>.spec</code>, the recipe we need for cooking any <code>rpm</code> package. We leverage some macros to make the process smooth and easy. This also makes me notice there isn&rsquo;t yet a syntax highlighter in Hugo for <code>spec</code> files&mldr;ü§®</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cat battleship-rs.spec 
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=display:flex><span><span style=color:#a6e22e>Name:           battleship-rs</span>
</span></span><span style=display:flex><span><span style=color:#75715e>#               This will be set by osc services, that will run after this.</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Version:        0.1.1~0</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Release:        0</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Summary:        Battleship game implemented in Rust.</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>License:        MIT</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Url:            https://github.com/orhun/battleship-rs</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Source0:        %{name}-%{version}.tar.zst</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Source1:        vendor.tar.zst</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Source2:        cargo_config</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>BuildRequires:  cargo-packaging</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Disable this line if you wish to support all platforms.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># In most situations, you will likely only target tier1 arches for user facing components.</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ExclusiveArch:  %{rust_tier1_arches}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># the name of the actual binary program when differs from the project</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>%define bin_name battleship</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>%description</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>A Battleship game implemented in Rust.</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Mainly for package practice</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>%prep</span>
</span></span><span style=display:flex><span><span style=color:#75715e># The number passed to -a (a stands for &#34;after&#34;) should be equivalent to the Source tag number</span>
</span></span><span style=display:flex><span><span style=color:#75715e># of the vendor tarball, 1 in this case (from Source1).</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>%autosetup -p1 -a1</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>install -D -m 644 %{SOURCE2} .cargo/config</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Remove exec bits to prevent an issue in fedora shebang checking. Uncomment only if required.</span>
</span></span><span style=display:flex><span><span style=color:#75715e># find vendor -type f -name \*.rs -exec chmod -x &#39;{}&#39; \;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>%build</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>%{cargo_build}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>%install</span>
</span></span><span style=display:flex><span><span style=color:#75715e># using cargo_install (only supports bindir)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># %{cargo_install}</span>
</span></span><span style=display:flex><span><span style=color:#75715e># manual process</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>install -D -d -m 0755 %{buildroot}%{_bindir}</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>install -m 0755 %{_builddir}/%{name}-%{version}/target/release/%{bin_name} %{buildroot}%{_bindir}/%{bin_name}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># this is useful if you want to run the program internal test suite </span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>%check</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>%{cargo_test}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>%files</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>%{_bindir}/%{bin_name}</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>%license LICENSE</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>%doc README.md</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>%changelog</span>
</span></span></code></pre></div><p>The second one is where the real magic happens. Using this configuration file, <code>OBS</code> is able to run many <code>services</code> on our project. First of all, it can checkout the exact version from <em>git</em> and generate for us a <code>.changes</code> file with the commit messages. Then it can build a compressed archive of the sources and run a special <a href=https://doc.rust-lang.org/cargo/commands/cargo-vendor.html><code>cargo vendor</code></a> task that manages to make all our dependencies available for an offline build:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cat _service
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;services&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;service</span> <span style=color:#a6e22e>mode=</span><span style=color:#e6db74>&#34;disabled&#34;</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;obs_scm&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;url&#34;</span><span style=color:#f92672>&gt;</span>https://github.com/orhun/battleship-rs.git<span style=color:#f92672>&lt;/param&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;versionformat&#34;</span><span style=color:#f92672>&gt;</span>@PARENT_TAG@~@TAG_OFFSET@<span style=color:#f92672>&lt;/param&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;scm&#34;</span><span style=color:#f92672>&gt;</span>git<span style=color:#f92672>&lt;/param&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;revision&#34;</span><span style=color:#f92672>&gt;</span>v0.1.1<span style=color:#f92672>&lt;/param&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;match-tag&#34;</span><span style=color:#f92672>&gt;</span>*<span style=color:#f92672>&lt;/param&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;versionrewrite-pattern&#34;</span><span style=color:#f92672>&gt;</span>v(\d+\.\d+\.\d+)<span style=color:#f92672>&lt;/param&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;versionrewrite-replacement&#34;</span><span style=color:#f92672>&gt;</span>\1<span style=color:#f92672>&lt;/param&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;changesgenerate&#34;</span><span style=color:#f92672>&gt;</span>enable<span style=color:#f92672>&lt;/param&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;changesauthor&#34;</span><span style=color:#f92672>&gt;</span>andrea.manzini@suse.com<span style=color:#f92672>&lt;/param&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;/service&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;service</span> <span style=color:#a6e22e>mode=</span><span style=color:#e6db74>&#34;disabled&#34;</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;tar&#34;</span> <span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;service</span> <span style=color:#a6e22e>mode=</span><span style=color:#e6db74>&#34;disabled&#34;</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;recompress&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;file&#34;</span><span style=color:#f92672>&gt;</span>*.tar<span style=color:#f92672>&lt;/param&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;param</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;compression&#34;</span><span style=color:#f92672>&gt;</span>zst<span style=color:#f92672>&lt;/param&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;/service&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;service</span> <span style=color:#a6e22e>mode=</span><span style=color:#e6db74>&#34;disabled&#34;</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;set_version&#34;</span><span style=color:#f92672>/&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;service</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;cargo_vendor&#34;</span> <span style=color:#a6e22e>mode=</span><span style=color:#e6db74>&#34;disabled&#34;</span><span style=color:#f92672>&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>&lt;param</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;src&#34;</span><span style=color:#f92672>&gt;</span>battleship-rs<span style=color:#f92672>&lt;/param&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>&lt;param</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;compression&#34;</span><span style=color:#f92672>&gt;</span>zst<span style=color:#f92672>&lt;/param&gt;</span>
</span></span><span style=display:flex><span>     <span style=color:#f92672>&lt;param</span> <span style=color:#a6e22e>name=</span><span style=color:#e6db74>&#34;update&#34;</span><span style=color:#f92672>&gt;</span>true<span style=color:#f92672>&lt;/param&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>&lt;/service&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/services&gt;</span>
</span></span></code></pre></div><p><del>The last item we need is a small file that instructs Rust build system to use <strong>vendored</strong> dependencies, instead of downloading from the internet.</del></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cat cargo_config
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span>[<span style=color:#a6e22e>source</span>.<span style=color:#a6e22e>crates-io</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>replace-with</span> = <span style=color:#e6db74>&#34;vendored-sources&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>source</span>.<span style=color:#a6e22e>vendored-sources</span>]
</span></span><span style=display:flex><span><span style=color:#a6e22e>directory</span> = <span style=color:#e6db74>&#34;vendor&#34;</span>
</span></span></code></pre></div><p><strong>Update:</strong> with the new release, che <code>cargo_config</code> is automatically created and no more needed as external asset, as you can see running the service:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>...
</span></span><span style=display:flex><span>This rewrite introduces some small changes to how vendoring functions for your package.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>* cargo_config is no longer created - it&#39;s part of the vendor.tar now
</span></span><span style=display:flex><span>    * You can safely remove lines related to cargo_config from your spec file
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><h2 id=-fetch-upstream-source-and-check-in-to-obs>üö¢ Fetch upstream source and check in to OBS<a hidden class=anchor aria-hidden=true href=#-fetch-upstream-source-and-check-in-to-obs>#</a></h2><p>The following commands will</p><ul><li>run the services to execute the tasks (this will create two .zst archives)</li><li>add all the files, included the configuration, to OBS versioning</li><li>send everything to the build server</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ osc service runall
</span></span><span style=display:flex><span>$ osc addremove
</span></span><span style=display:flex><span>$ osc checkin
</span></span></code></pre></div><p>Potentially we are done, build will start on a OBS worker and we can check the build log; If we want to try everything locally, we are ready to</p><h2 id=-local-build>üèóÔ∏è Local build<a hidden class=anchor aria-hidden=true href=#-local-build>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ osc build 
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>Building battleship-rs.spec for openSUSE_Tumbleweed/x86_64
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>... [lots of output omitted] ...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>build: extracting built packages...
</span></span><span style=display:flex><span>RPMS/x86_64/battleship-rs-0.1.1~0-0.x86_64.rpm
</span></span><span style=display:flex><span>SRPMS/battleship-rs-0.1.1~0-0.src.rpm
</span></span><span style=display:flex><span>OTHER/_statistics
</span></span><span style=display:flex><span>OTHER/rpmlint.log
</span></span></code></pre></div><h2 id=-lets-test-installation>üéÆ Let&rsquo;s test installation<a hidden class=anchor aria-hidden=true href=#-lets-test-installation>#</a></h2><p>Since we just packaged a game, why not give it a try ?</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ sudo zypper in battleship-rs-0.1.1~0-0.x86_64.rpm
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span>Refreshing service <span style=color:#e6db74>&#39;openSUSE&#39;</span><span style=color:#f92672>.................................................</span>[done]
</span></span><span style=display:flex><span>Loading repository data<span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>Reading installed packages<span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>Resolving package dependencies<span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>The following NEW package is going to be installed:
</span></span><span style=display:flex><span>  battleship<span style=color:#f92672>-</span>rs
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span> new package to install<span style=color:#f92672>.</span>
</span></span><span style=display:flex><span>Overall download size: <span style=color:#ae81ff>223.4</span> KiB<span style=color:#f92672>.</span> Already cached: <span style=color:#ae81ff>0</span> B<span style=color:#f92672>.</span> After the operation, additional <span style=color:#ae81ff>574.3</span> KiB will be used<span style=color:#f92672>.</span>
</span></span><span style=display:flex><span>Continue<span style=color:#960050;background-color:#1e0010>?</span> [y<span style=color:#f92672>/</span>n<span style=color:#f92672>/</span>v<span style=color:#f92672>/...</span><span style=color:#960050;background-color:#1e0010>?</span> shows all options] (y): 
</span></span><span style=display:flex><span>Retrieving: battleship<span style=color:#f92672>-</span>rs<span style=color:#f92672>-</span><span style=color:#ae81ff>0.1</span><span style=color:#f92672>.</span><span style=color:#ae81ff>1</span><span style=color:#f92672>~</span><span style=color:#ae81ff>0</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.</span>x86_64 (Plain RPM files cache)                                        (<span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1</span>), <span style=color:#ae81ff>223.4</span> KiB    
</span></span><span style=display:flex><span>battleship<span style=color:#f92672>-</span>rs<span style=color:#f92672>-</span><span style=color:#ae81ff>0.1</span><span style=color:#f92672>.</span><span style=color:#ae81ff>1</span><span style=color:#f92672>~</span><span style=color:#ae81ff>0</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.</span>x86_64<span style=color:#f92672>.</span>rpm:
</span></span><span style=display:flex><span>    Package header is <span style=color:#f92672>not</span> signed<span style=color:#f92672>!</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>battleship<span style=color:#f92672>-</span>rs<span style=color:#f92672>-</span><span style=color:#ae81ff>0.1</span><span style=color:#f92672>.</span><span style=color:#ae81ff>1</span><span style=color:#f92672>~</span><span style=color:#ae81ff>0</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.</span>x86_64 (Plain RPM files cache): Signature verification failed [<span style=color:#ae81ff>6</span><span style=color:#f92672>-</span><span style=color:#a6e22e>File</span> is unsigned]
</span></span><span style=display:flex><span>Abort, retry, ignore<span style=color:#960050;background-color:#1e0010>?</span> [a<span style=color:#f92672>/</span>r<span style=color:#f92672>/</span>i] (a): i
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Checking <span style=color:#66d9ef>for</span> file conflicts: <span style=color:#f92672>.................................................</span>[done]
</span></span><span style=display:flex><span>(<span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>1</span>) Installing: battleship<span style=color:#f92672>-</span>rs<span style=color:#f92672>-</span><span style=color:#ae81ff>0.1</span><span style=color:#f92672>.</span><span style=color:#ae81ff>1</span><span style=color:#f92672>~</span><span style=color:#ae81ff>0</span><span style=color:#f92672>-</span><span style=color:#ae81ff>0.</span>x86_64 <span style=color:#f92672>.............................</span>[done]
</span></span><span style=display:flex><span>Running post<span style=color:#f92672>-</span>transaction scripts <span style=color:#f92672>.............................................</span>[done]
</span></span></code></pre></div><p>now the package is installed, we can try it out; on the &lsquo;server&rsquo; we will see the battlefield and client connections:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ battleship  
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>+<span style=color:#f92672>]</span> Server is listening on 127.0.0.1:1234
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>+<span style=color:#f92672>]</span> New connection: 127.0.0.1:33692
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>+<span style=color:#f92672>]</span> New connection: 127.0.0.1:41104
</span></span><span style=display:flex><span><span style=color:#f92672>[</span><span style=color:#75715e>#] Andrea&#39;s grid:</span>
</span></span><span style=display:flex><span>   A B C D E F G H I J 
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span>  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>2</span>  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚ñ≠ ‚ñ≠ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>3</span>  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚ñ≠ ‚ñ≠ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>4</span>  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>5</span>  ‚Ä¢ ‚ñß ‚ñß ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>6</span>  ‚Ä¢ ‚ñß ‚ñß ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>7</span>  ‚Ä¢ ‚ñß ‚ñß ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>8</span>  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>9</span>  ‚Ä¢ ‚Ä¢ ‚ñ≥ ‚ñ≥ ‚ñ≠ ‚ñ≠ ‚ñ≠ ‚ñ≠ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>10</span> ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span><span style=color:#75715e>#] ilmanzo&#39;s grid:</span>
</span></span><span style=display:flex><span>   A B C D E F G H I J 
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span>  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>2</span>  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚ñØ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>3</span>  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚ñØ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>4</span>  ‚ñ≠ ‚ñ≠ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>5</span>  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚ñØ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>6</span>  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚ñØ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>7</span>  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚ñ≠ ‚ñ≠ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>8</span>  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>9</span>  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span><span style=color:#ae81ff>10</span> ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span><span style=color:#75715e>#] Game is starting.</span>
</span></span><span style=display:flex><span><span style=color:#f92672>[</span><span style=color:#75715e>#] Andrea&#39;s turn.</span>
</span></span></code></pre></div><p>to actually play the game, we need to spawn two different terminals and contact the server, no cheating allowed :)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ nc 127.0.0.1 <span style=color:#ae81ff>1234</span>
</span></span><span style=display:flex><span>        _    _
</span></span><span style=display:flex><span>     __|_|__|_|__
</span></span><span style=display:flex><span>   _|____________|__
</span></span><span style=display:flex><span>  |o o o o o o o o /
</span></span><span style=display:flex><span>~<span style=color:#e6db74>&#39;`~&#39;</span><span style=color:#e6db74>`</span>~<span style=color:#e6db74>&#39;`~&#39;</span><span style=color:#e6db74>`</span>~<span style=color:#e6db74>&#39;`~&#39;</span><span style=color:#e6db74>`</span>~<span style=color:#e6db74>&#39;`~
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Welcome to Battleship!
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Please enter your name: ilmanzo
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Your opponent is Andrea
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Game starts in 3...
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Game starts in 2...
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Game starts in 1...
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>   A B C D E F G H I J 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>1  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>2  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>3  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>4  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>5  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>6  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>7  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>8  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>9  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>10 ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>   A B C D E F G H I J 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>1  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>2  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚ñØ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>3  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚ñØ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>4  ‚ñ≠ ‚ñ≠ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>5  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚ñØ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>6  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚ñØ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>7  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚ñ≠ ‚ñ≠ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>8  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>9  ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>10 ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢ 
</span></span></span><span style=display:flex><span><span style=color:#e6db74>Andrea&#39;</span>s turn.
</span></span></code></pre></div><h2 id=-final-toughts>üéá Final toughts<a hidden class=anchor aria-hidden=true href=#-final-toughts>#</a></h2><p>First of all, thanks to <a href=https://orhun.dev/>Orhun Parmaksƒ±z</a> for writing an awesome terminal game!</p><p>If you want to get better as packager be sure to read this excellent <a href=https://github.com/jubalh/awesome-package-maintainer>guide</a> from Michael Vetter.</p><p>More details on the history and choices behind Rust packaging in openSUSE are in <a href=https://youtu.be/ppJCeAhpx7E>William Brown&rsquo;s talk on RustConf 2022</a><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading=eager referrerpolicy=strict-origin-when-cross-origin src="https://www.youtube-nocookie.com/embed/ppJCeAhpx7E?autoplay=0&amp;controls=1&amp;end=0&amp;loop=0&amp;mute=0&amp;start=0" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 title="YouTube video"></iframe></div></p><p>More packaging tutorials on OpenSUSE YouTube channel: <a href=https://www.youtube.com/opensuse>https://www.youtube.com/opensuse</a></p><p>You can find all the files and the project in my home folder on the <a href=https://build.opensuse.org/package/show/home:amanzini/battleship-rs>openSUSE build service</a>. Happy hacking!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://ilmanzo.github.io/tags/linux/>Linux</a></li><li><a href=https://ilmanzo.github.io/tags/sysadmin/>Sysadmin</a></li><li><a href=https://ilmanzo.github.io/tags/rust/>Rust</a></li><li><a href=https://ilmanzo.github.io/tags/opensuse/>Opensuse</a></li><li><a href=https://ilmanzo.github.io/tags/packaging/>Packaging</a></li><li><a href=https://ilmanzo.github.io/tags/rpm/>Rpm</a></li></ul><nav class=paginav><a class=prev href=https://ilmanzo.github.io/post/first_steps_of_ltp_linux_test_project/><span class=title>¬´ Prev</span><br><span>First steps with Linux Test Project</span>
</a><a class=next href=https://ilmanzo.github.io/post/faulty_network_simulation/><span class=title>Next ¬ª</span><br><span>Fault Injection in Network Namespace and Veth Environments</span></a></nav></footer></article></main><footer class=footer><span>¬© 2012-2024 Andrea Manzini</span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>